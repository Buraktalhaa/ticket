<header class="bg-gray-900 shadow">
  <nav
    class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between"
    aria-label="Global"
  >
    <div class="flex items-center space-x-6">
      <a href="#" class="flex items-center space-x-2">
        <img class="h-12 w-auto" src="BTMlogo.png" alt="logo" />
        <span class="text-white font-bold text-lg">BTM</span>
      </a>

      @if (role === 'moderator') {
      <button
        (click)="goToModeratorDashboard()"
        class="flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-indigo-500 transition cursor-pointer"
      >
        Moderator Dashboard
      </button>
      } @else if (role === 'seller') {
      <button
        (click)="goToSellerDashboard()"
        class="flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-indigo-500 transition cursor-pointer"
      >
        Seller Dashboard
      </button>
      }
    </div>

    <div class="hidden lg:flex items-center space-x-4">
      <button
        (click)="getAllTickets()"
        class="flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-indigo-500 transition cursor-pointer"
      >
        Home
      </button>

      <button
        class="flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-indigo-500 transition cursor-pointer"
      >
        Support
      </button>
    </div>

    <div class="flex items-center space-x-4">
      @if (authService.isThereUser()) {
        <button
        (click)="goToFavorites()"
        class="flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-indigo-500 transition cursor-pointer"
      >
        <svg
          class="h-5 w-5 mr-2"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 21.364l-7.682-7.682a4.5 4.5 0 010-6.364z"
          />
        </svg>
        Favorites
      </button>
      
      <button
        (click)="goToCart()"
        class="flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-indigo-500 transition cursor-pointer"
      >
        <svg
          class="h-5 w-5 mr-2"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M3 3h2l.4 2M7 13h10l4-8H5l-.6-3H3"
          />
        </svg>
        Cart
      </button>

      <div class="relative flex items-center ml-4 space-x-4">
        <!-- Profil Resmi -->
        <img
          (click)="toggleDropdown()"
          class="h-10 w-10 rounded-full cursor-pointer border border-white hover:ring-2 hover:ring-indigo-400"
          [src]="userPhotoUrl ? userPhotoUrl : '/default-user.webp'"
          alt="User Avatar"
          width="40"
          height="40"
        />

        @if (isDropdownOpen) {
        <div
          class="absolute right-0 top-12 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50"
        >
          <div class="py-1 text-black">
            <a
              (click)="getMyProfile(); toggleDropdown()"
              class="block px-4 py-2 text-sm hover:bg-gray-100 cursor-pointer"
              >My Profile</a
            >
            <a
              (click)="goToOrders(); toggleDropdown()"
              class="block px-4 py-2 text-sm hover:bg-gray-100 cursor-pointer"
              >Orders</a
            >
            <a
              (click)="logOut(); toggleDropdown()"
              class="block px-4 py-2 text-sm hover:bg-gray-100 text-red-500 cursor-pointer"
              >Logout</a
            >
          </div>
        </div>
        }
      </div>
      } @else {
      <app-auth-buttons class="flex"></app-auth-buttons>
      }
    </div>
  </nav>
</header>

<nav class="bg-gray-800">
  <div class="mx-auto max-w-7xl flex justify-center space-x-18 py-3">
    <a
      (click)="selectCategory('flight')"
      class="text-white hover:text-indigo-400 cursor-pointer"
    >
      Flights
    </a>
    <a
      (click)="selectCategory('train')"
      class="text-white hover:text-indigo-400 cursor-pointer"
    >
      Train
    </a>
    <a
      (click)="selectCategory('bus')"
      class="text-white hover:text-indigo-400 cursor-pointer"
    >
      Bus
    </a>
    <a
      (click)="selectCategory('hotel')"
      class="text-white hover:text-indigo-400 cursor-pointer"
    >
      Hotel
    </a>
    <a
      (click)="selectCategory('movie')"
      class="text-white hover:text-indigo-400 cursor-pointer"
    >
      Movies
    </a>
    <a
      (click)="selectCategory('theater')"
      class="text-white hover:text-indigo-400 cursor-pointer"
    >
      Theater
    </a>
    <a
      (click)="selectCategory('concert')"
      class="text-white hover:text-indigo-400 cursor-pointer"
    >
      Concerts
    </a>
  </div>
</nav>